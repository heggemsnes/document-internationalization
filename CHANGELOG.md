<!-- markdownlint-disable --><!-- textlint-disable -->

# ðŸ““ Changelog

All notable changes to this project will be documented in this file. See
[Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [1.0.5](https://github.com/sanity-io/document-internationalization/compare/v1.0.4...v1.0.5) (2023-02-09)

### Bug Fixes

- update actions docs and helper function ([e691a34](https://github.com/sanity-io/document-internationalization/commit/e691a34f754eada0a264cbf69d58ddbb6378774a))

## [1.0.4](https://github.com/sanity-io/document-internationalization/compare/v1.0.3...v1.0.4) (2023-01-30)

### Bug Fixes

- add updateIntlFieldsForDocument and hooks exports ([b1fd39e](https://github.com/sanity-io/document-internationalization/commit/b1fd39ed7b0535a8986af9a665d25e59afaecd7d))

## [1.0.3](https://github.com/sanity-io/document-internationalization/compare/v1.0.2...v1.0.3) (2023-01-10)

### Bug Fixes

- maxcdn replaced with cdnjs.cloudflare ([e558819](https://github.com/sanity-io/document-internationalization/commit/e5588193af3193f6108006bedbb39348ed1146cf))

## [1.0.2](https://github.com/sanity-io/document-internationalization/compare/v1.0.1...v1.0.2) (2022-11-25)

### Bug Fixes

- **deps:** sanity ^3.0.0 (works with rc.3) ([6af3ba2](https://github.com/sanity-io/document-internationalization/commit/6af3ba26f355acc466da5f1912a01560cc7c8535))

## [1.0.1](https://github.com/sanity-io/document-internationalization/compare/v1.0.0...v1.0.1) (2022-11-20)

### Bug Fixes

- initial Sanity Studio v3 release replacing 1.0.0 which is incorrectly published ([d2f667f](https://github.com/sanity-io/document-internationalization/commit/d2f667f5761f909f4d9797a57619f3335b1ef7ba))

## 1.0.0 (2022-11-20)

### âš  BREAKING CHANGES

- this version does not work in Sanity Studio v2
- this version does not work in Studio V2

### Features

- 5.3.0-beta.3 export custom actions ([e00e66b](https://github.com/sanity-io/document-internationalization/commit/e00e66b57b987672eed11776e46c01ea88340b22))
- Add known caveats ([dc9195f](https://github.com/sanity-io/document-internationalization/commit/dc9195f2abc15f36707ffeffd1c7b89120e6e911))
- Add open in new tab as seperate action ([784c625](https://github.com/sanity-io/document-internationalization/commit/784c62518f9d072b415acea78d16e4365bba1fea))
- Added duplicate action ([8245219](https://github.com/sanity-io/document-internationalization/commit/8245219e3f693acf79980757fce11f0dab731155))
- added eslint ([313d756](https://github.com/sanity-io/document-internationalization/commit/313d7561c7967e37bf7cda884b33a3d67c6b8c4a))
- Added husky ([b496417](https://github.com/sanity-io/document-internationalization/commit/b496417a6f9f758cec9bb31d06decb86cbb953d2))
- Added isSlugUnique validator function ([3f0d453](https://github.com/sanity-io/document-internationalization/commit/3f0d453de9bcf8aec41b7d2a975b756714be72a6))
- Added shortcut to delete action ([6f5ce6e](https://github.com/sanity-io/document-internationalization/commit/6f5ce6e4b8ebf6d9cb979908e982d8cd5c478ed1))
- Allow overriding flags ([3de53c7](https://github.com/sanity-io/document-internationalization/commit/3de53c73506ef4fca1dd2c9dcb504a44c80b3602))
- beta 12 - new selector ([83191af](https://github.com/sanity-io/document-internationalization/commit/83191afcb604bced3799e7196505641d903fa9ed))
- derive-language Derive language from language field ([4050e20](https://github.com/sanity-io/document-internationalization/commit/4050e2049e3048c405513f4e50fa81e62d1926d8))
- Fix pre-commit ([d9477ce](https://github.com/sanity-io/document-internationalization/commit/d9477ce1f148cca22a0fc402e54e1e279a3ad8ba))
- Fix referencing behavior ([18abcd2](https://github.com/sanity-io/document-internationalization/commit/18abcd27491ef2df65a6261a50203e0eeeda7f18))
- Fix split pane logic and dropdown styling ([f36e922](https://github.com/sanity-io/document-internationalization/commit/f36e922e49936b5e05ed16cd8090f5be8dde6ef3))
- Fixed desk structure ([b999c2a](https://github.com/sanity-io/document-internationalization/commit/b999c2aba29ceb68c3aa0ddc4eab018c7df39741))
- Fixed selected color ([1223e2b](https://github.com/sanity-io/document-internationalization/commit/1223e2bde42f98852fb81651d9d9189bb178332a))
- Hide split button on mobile ([b482755](https://github.com/sanity-io/document-internationalization/commit/b482755465456cfa22c3e4fa9d0063963bd7180e))
- Implement custom language loader functionality ([711d9d4](https://github.com/sanity-io/document-internationalization/commit/711d9d471c401aa3cd5eb04f7f9b00f75f109cc6))
- Implemented fallback to language-filter plugin ([c15b90c](https://github.com/sanity-io/document-internationalization/commit/c15b90cad95d6db6da10bf2df72f9a1bcbfa239e))
- initial Sanity Studio v3 release ([0b22ea2](https://github.com/sanity-io/document-internationalization/commit/0b22ea2fa1f018c04f0c175d3fdc51ec0b116395))
- Merge remote-tracking branch 'origin/develop' into feat/duplicate-action ([0dbc318](https://github.com/sanity-io/document-internationalization/commit/0dbc31852ab1144cc81fd99c87b6c49c1df16edf))
- Minor fixes to translation maintenance and added some extra info ([f2d902a](https://github.com/sanity-io/document-internationalization/commit/f2d902a2f61b208691caf9ca260ea87e6ef9edc3))
- New language selector ([6fd0153](https://github.com/sanity-io/document-internationalization/commit/6fd0153ed211594b7116c58583b44bfe069c7a17))
- Omit \_weak if set to the default value of false ([ca7865c](https://github.com/sanity-io/document-internationalization/commit/ca7865cd230d9739ee69f6e4f9322f7e4e60fbda))
- Open as child pane ([3f25f91](https://github.com/sanity-io/document-internationalization/commit/3f25f91b422e58516c2d74a5212097d331df7f3b))
- Remove config messages ([7acc37d](https://github.com/sanity-io/document-internationalization/commit/7acc37d9d8f5d862c74e033bb4b0429b7a4a90de))
- Remove sass ([c594548](https://github.com/sanity-io/document-internationalization/commit/c594548677638a451e257816ee9d0033fad0ebe7))
- Removed intl input for object level tranlations ([e15a7e5](https://github.com/sanity-io/document-internationalization/commit/e15a7e5c74f0b8e16b6f4f10472dc617c8b8e066))
- Replace base delete action ([86d0112](https://github.com/sanity-io/document-internationalization/commit/86d011231eb84b7acbc66aaef3ae6904fc6abeb3))
- replaced react-easy-emoji with country-flag-emoji-polyfill ([67756db](https://github.com/sanity-io/document-internationalization/commit/67756db070ab788b23ac5b83edcdc0687f17dc14))
- studio v3 initial version ([6c29fd9](https://github.com/sanity-io/document-internationalization/commit/6c29fd9d608e6f10c35b148e71851f6292b7d538))
- stylelint ([457e0ba](https://github.com/sanity-io/document-internationalization/commit/457e0badc4a6d448496ef09a1f2afc975306b72d))
- transaction-confirmation-dialog ([a13bba5](https://github.com/sanity-io/document-internationalization/commit/a13bba5e645aa35d7df0ab52032b94cd5a53dc05))
- translation refs structural change ([f3b6b55](https://github.com/sanity-io/document-internationalization/commit/f3b6b55687bc537ddea4b69e8fe3530ed62f9cbb))
- Update config file import and add this info in the coming from docs + serialize structure items ([f230ffc](https://github.com/sanity-io/document-internationalization/commit/f230ffcc859af5b5b0cb17e21355483866dfeb59))
- Update context ([2460ffc](https://github.com/sanity-io/document-internationalization/commit/2460ffc833c470d99d968fee6dd4f0531fa50de6))
- Update to success toast copy and updated menu UI ([de045ef](https://github.com/sanity-io/document-internationalization/commit/de045ef1e9686cca3f35c29a099acad04ec5c3fb))
- Updated delete action + updated input ([bea1b52](https://github.com/sanity-io/document-internationalization/commit/bea1b5211517409ed15a58350fef9134d7f0c890))
- Updated docs and parts ([ba5abb2](https://github.com/sanity-io/document-internationalization/commit/ba5abb2352a68c73a6f0a78e939585a18ceaff40))
- Updated flags part ([2b8718a](https://github.com/sanity-io/document-internationalization/commit/2b8718adcc44326c1119b44ef97e63b180b0ad0f))
- Updated hard to strong config ([3c9f49f](https://github.com/sanity-io/document-internationalization/commit/3c9f49f64cfe16a50ab5f526d8a4456a72093b9b))
- Updated label and icon color ([d8ec679](https://github.com/sanity-io/document-internationalization/commit/d8ec6797fcf58a52129c0b06310295e2471c1101))
- Updated languages structure ([39144a0](https://github.com/sanity-io/document-internationalization/commit/39144a039a7db18152e8aac2d535dd6c060004de))
- Updated publish and delete actions + expose new util for own actions ([fbd5117](https://github.com/sanity-io/document-internationalization/commit/fbd511795df8c210a6f966c91815d6738f27a653))
- Use lang as key ([bf17bf5](https://github.com/sanity-io/document-internationalization/commit/bf17bf5e6335233e719bad4118ef275b0645f313))
- v5.6.0 ([b88e78d](https://github.com/sanity-io/document-internationalization/commit/b88e78d1f699cca97865befb3ad88c0f8060a401)), closes [#92](https://github.com/sanity-io/document-internationalization/issues/92) [#89](https://github.com/sanity-io/document-internationalization/issues/89) [#84](https://github.com/sanity-io/document-internationalization/issues/84)

### Bug Fixes

- [#59](https://github.com/sanity-io/document-internationalization/issues/59) ([e6825e6](https://github.com/sanity-io/document-internationalization/commit/e6825e647beced1cd167d987d81b0ff1300697b8))
- Beta bump ([a387ede](https://github.com/sanity-io/document-internationalization/commit/a387edeb2c36880fe709577a64d4b7b7b84d1c66))
- compiled for sanity 3.0.0-rc.0 ([2bef91d](https://github.com/sanity-io/document-internationalization/commit/2bef91d7cea085d95600e348f2f80bd464169760))
- Completely unset refs before delete ([a53b1ea](https://github.com/sanity-io/document-internationalization/commit/a53b1eac147b8e1c8dd0d19e4831ff3b07c69edd))
- constant exports where missing ([32d3a29](https://github.com/sanity-io/document-internationalization/commit/32d3a2977cfae02bd990f19d027bd31d84695d38))
- Copy draft ([d50e7df](https://github.com/sanity-io/document-internationalization/commit/d50e7df518e41054d1a5e8ea7b7efc45e633d4b7))
- Delete draft to resolve references ([4afea24](https://github.com/sanity-io/document-internationalization/commit/4afea24e855158ae2585baec08ea5f3f140e1506))
- **deps:** dev-preview.21 ([4c2f29c](https://github.com/sanity-io/document-internationalization/commit/4c2f29c32b2d97db6bea475e7233f45fe3ca7b96))
- **deps:** dev-preview.22 ([5285578](https://github.com/sanity-io/document-internationalization/commit/52855784bb98a7c667faf339a2a36327ed42c8e0))
- **deps:** pkg-utils & @sanity/plugin-kit ([ae852d8](https://github.com/sanity-io/document-internationalization/commit/ae852d8f83aedfea57556dee5b3c964654bc887a))
- dev-preview.17 compatability ([9959463](https://github.com/sanity-io/document-internationalization/commit/9959463eb8713eb606c86e9fa834b080459babc6))
- Exclude draft documents in maintenace ([d1a7256](https://github.com/sanity-io/document-internationalization/commit/d1a72565fe10027e9923ee7f06a1bf7049784b82))
- Exclude drafts for duplicate and updateIntl, include them for delete ([5835649](https://github.com/sanity-io/document-internationalization/commit/58356495ecfd863eb72b44b10d03f88e5259c478))
- Fetch base document using client instead of using hook ([9e9de20](https://github.com/sanity-io/document-internationalization/commit/9e9de200fa78bc1f87973767aee35a378371e8c9))
- Fix build with latest modules ([90e17c1](https://github.com/sanity-io/document-internationalization/commit/90e17c128acbda14a9ecfe13e29867fda6b91cc5))
- Fix coalesce query ([7bee6ca](https://github.com/sanity-io/document-internationalization/commit/7bee6ca32a5e57e05f29fdb11eb2c6532c760d26))
- Fix existing check ([0889ca7](https://github.com/sanity-io/document-internationalization/commit/0889ca7b87f980660004ead28c463d9cc3052b9a))
- Fix fixIdStructureMismatchDocuments ([5bb9948](https://github.com/sanity-io/document-internationalization/commit/5bb99488db3d02a2c1432b2c4cf5a37540d4ee3e))
- Fix issue with translations tab ([3ff7dab](https://github.com/sanity-io/document-internationalization/commit/3ff7dab6777c82fd3e96fcb8962f68afeeb0313f))
- Fix minor bug in translation maintenance ([0f8fa57](https://github.com/sanity-io/document-internationalization/commit/0f8fa571e1d967e1463269f4f99fde65e068ccfc))
- Fix removal of drafts ([60902d0](https://github.com/sanity-io/document-internationalization/commit/60902d038fc5cc2464a4164eb730fa0773360d72))
- Fix studio crash due to filter error ([73064f0](https://github.com/sanity-io/document-internationalization/commit/73064f0e1ec97021b56065bfb3cc0a4b5ae59e51))
- Fixed \_type missing from documents in translation maintenance ([67567a6](https://github.com/sanity-io/document-internationalization/commit/67567a62aec73df9724dcbe7c8e11980f06418a9))
- Fixed a bug which caused an issue with the translation maintenance refs fix ([0194f7d](https://github.com/sanity-io/document-internationalization/commit/0194f7daed28458228cac4d8c37076198c89dc1b))
- Fixed a bug with the `fixBaseLanguageMismatch` method as it was not considering the field name configuration ([2c56697](https://github.com/sanity-io/document-internationalization/commit/2c56697b0af780dfa62c9d173a02c212b6f90f24))
- Fixed base language mismatch transaction ([6527199](https://github.com/sanity-io/document-internationalization/commit/65271996ed9b3e94e24e671e075bcd6ff6bc11aa))
- Fixed ConfirmDeleteDialog import to be named instead of default ([6fdd84a](https://github.com/sanity-io/document-internationalization/commit/6fdd84a91a7836de18784a0b7783c4937627c348))
- Fixed custom flag implementation and default flag splitting ([a03baf3](https://github.com/sanity-io/document-internationalization/commit/a03baf324fb163d74c338e157786076d5e3e13f3))
- Fixed default config import ([6d270de](https://github.com/sanity-io/document-internationalization/commit/6d270de541f44670fe2f2b6c8bd385749b8b1f2c))
- Fixed delete all ([a749b7b](https://github.com/sanity-io/document-internationalization/commit/a749b7bdeea73909d3ad362e2147e7fabd258fcf))
- fixed dependency ([d017178](https://github.com/sanity-io/document-internationalization/commit/d0171783f3b801a74ee2001ce8d3ce1dfce0bb56))
- Fixed input ([5211ea3](https://github.com/sanity-io/document-internationalization/commit/5211ea3eaec257b2d8898d991721946a11a1d493))
- Fixed isSlugUnique function ([1d90627](https://github.com/sanity-io/document-internationalization/commit/1d90627df4055e28917bbf30f6f35b60cbac7c3c)), closes [#27](https://github.com/sanity-io/document-internationalization/issues/27)
- Fixed issue where documents link to each other ([d9b2e46](https://github.com/sanity-io/document-internationalization/commit/d9b2e469bb1a31b6f8a335f0571aa36ea42a5782))
- Fixed issue with base ref maintenance ([81f12eb](https://github.com/sanity-io/document-internationalization/commit/81f12eb4ed5c45f40158b92a46aae17672befcdd))
- Fixed issue with singleton added to changelog ([c7ad650](https://github.com/sanity-io/document-internationalization/commit/c7ad650f8fedf1e9a928ea2c279454f851fa8550))
- Fixed maintenance tab messages ([4483a3c](https://github.com/sanity-io/document-internationalization/commit/4483a3c9809822e8dc277d3722330a5fadfdc407))
- Fixed transaction not committing + added links to other resources ([f083a31](https://github.com/sanity-io/document-internationalization/commit/f083a31c9ff766e444f4b5c3621423bdccea69a6))
- Fixed typo ([3671fc7](https://github.com/sanity-io/document-internationalization/commit/3671fc773b7ef221a02d76e8909ec8c635684ef1))
- Fixed typo ([b5b3e07](https://github.com/sanity-io/document-internationalization/commit/b5b3e07219b9e67927190b5f3b67d07e240fc0ee))
- fixed-build ([019b489](https://github.com/sanity-io/document-internationalization/commit/019b489e518e61642efab07a8999aa0460643bd3))
- fixed-import ([eea8938](https://github.com/sanity-io/document-internationalization/commit/eea893880a3664ff9c6fcad0613e7475d70b0f7f))
- Fixes [#58](https://github.com/sanity-io/document-internationalization/issues/58) ([0277fbe](https://github.com/sanity-io/document-internationalization/commit/0277fbe89aac69c9fd03c80deec4aa72cad0aaef))
- fixes-typing-error ([9f62af5](https://github.com/sanity-io/document-internationalization/commit/9f62af562ce2d3006597f8cef4435d9473c4c191))
- i18n optional in definition ([38f186b](https://github.com/sanity-io/document-internationalization/commit/38f186b933bb185cc884533e919c0d22c9132bd0))
- Infinite loop in hook ([67ecc8f](https://github.com/sanity-io/document-internationalization/commit/67ecc8f8b0f6b45d89aff767f2e3323c609a6039))
- Minor fix in deleting ([caead31](https://github.com/sanity-io/document-internationalization/commit/caead313dd009dde7168fb0975be23bb866ca8aa))
- Minor update to disabled state propagation and publishing action ([43e5550](https://github.com/sanity-io/document-internationalization/commit/43e5550c74e95f7388ea0dbde714a0b6704f4e23))
- minor-deps-fix ([e258fdd](https://github.com/sanity-io/document-internationalization/commit/e258fddcd8b6e7093f42a45bbd8cc80bef752c64))
- more constant exports where missing ([50048f7](https://github.com/sanity-io/document-internationalization/commit/50048f7d3f5cb8c51e72ad4f8ec89376d32abe41))
- Only stop publishing on actual errors not warnings ([7d18cce](https://github.com/sanity-io/document-internationalization/commit/7d18cce3571f043e20c12b45b98c72dea1a59eac)), closes [#58](https://github.com/sanity-io/document-internationalization/issues/58)
- router uses navigateIntent to fix [#83](https://github.com/sanity-io/document-internationalization/issues/83) ([784bf1f](https://github.com/sanity-io/document-internationalization/commit/784bf1f85d8e5b4ebe2349371080da02662abc1a))
- Take into account validation errors ([713b49a](https://github.com/sanity-io/document-internationalization/commit/713b49ad89da9eba205adcb894755b4d49af45c8))
- Updaate delete action for desk-tool 2.28.0 ([9e0cc38](https://github.com/sanity-io/document-internationalization/commit/9e0cc382db0109f34706a109b699de2158522feb))
- Update publish action with transactions ([78152dc](https://github.com/sanity-io/document-internationalization/commit/78152dcd271fb503f9dc71df339e82ab9ba07064))
- Update to useCallback ([1333149](https://github.com/sanity-io/document-internationalization/commit/13331491fb94eb006dee83f64e3ca86b5b0dab8c))
- Updated memo dependencies ([30fdc85](https://github.com/sanity-io/document-internationalization/commit/30fdc85b1ed873cb3bc3f6c812cc6ee73de711d5))
- use new useClient api ([31721d8](https://github.com/sanity-io/document-internationalization/commit/31721d85c34d2b7622407a7b3770cb2b6c0fea38))
- useSyncState type ([d79da18](https://github.com/sanity-io/document-internationalization/commit/d79da18170db9401eebdfdf270bee0317e1f4eec))

## [1.0.0-v3-studio.14](https://github.com/sanity-io/document-internationalization/compare/v1.0.0-v3-studio.13...v1.0.0-v3-studio.14) (2022-11-04)

### Bug Fixes

- **deps:** pkg-utils & @sanity/plugin-kit ([ae852d8](https://github.com/sanity-io/document-internationalization/commit/ae852d8f83aedfea57556dee5b3c964654bc887a))

## [1.0.0-v3-studio.13](https://github.com/sanity-io/document-internationalization/compare/v1.0.0-v3-studio.12...v1.0.0-v3-studio.13) (2022-11-03)

### Bug Fixes

- compiled for sanity 3.0.0-rc.0 ([2bef91d](https://github.com/sanity-io/document-internationalization/commit/2bef91d7cea085d95600e348f2f80bd464169760))

# CHANGELOG

## v0.1.7

- For base I18n documents the default "Delete" action will now be replaced with the Delete (incl. translations)" action. The default "Delete" action does not make sense for base documents in any scenario as it results in broken references.

## v0.1.6

- Fixed translation maintenance functionality

## v0.1.5

- Don't override `child` resolver as it is not required anymore. This way it will correctly fallback on the Studio's structure definition

## v0.1.4

- Fixed an issue with filtering `all:part:@sanity/desk-tool/language-select-component`

## v0.1.3

- The plugin will not show the language dropdown anymore for schemas that do not have `i18n` enabled. This version also brings support for the `@sanity/language-filter` plugin for non `i18n` schemas.

## v0.1.2

- Fixed import to `ConfirmDeleteDialog`

## v0.1.1

- [#32](https://github.com/sanity-io/document-internationalization/issues/32) Fixes default and custom flag implementations

## v0.1.0

This is the first stable release for the official document internationalization plugin. A few things have changed since the original plugin. For a migration guide please see [this guide](docs/coming-from-sanity-plugin-intl-input.md).

**Breaking Changes**

- Object level translations are not supported by this plugin anymore. If your project requires this please use the [@sanity/language-filter](https://www.npmjs.com/package/@sanity/language-filter) plugin.
- `delimiter` is now the default ID structure as opposed to `subpath`. If you are using the legacy plugin with no `idStructure` specified you will need to make sure to configure it explicitly in this version. Coming from the old version you will need to set it to `subpath` to keep your current structure.
- It is not possible anymore to override the UI messages using plugin configuration.
- The language configuration has been updated to use an `id` field instead of `name`. This change was made to align with the `@sanity/language-filter` plugin. You will need to update your language configuration if you are coming from the old plugin.
- The `hard` reference behavior configuration has been renamed to `strong` to be more consistent with Sanity itself.
- The `__i18n_refs` field will now be a simple array of rerences as opposed to an array of custom objects. They are keyed by their language code for easier querying.

**Fixes**

- Fixed issue with `fixIdStructureMismatchDocuments` maintenance function
- Fixed a bug with the `fixBaseLanguageMismatch` method as it was not considering the field name configuration
- [#124](https://github.com/LiamMartens/sanity-plugin-intl-input/issues/124) Updates an internal import to support the minor bump from `@sanity/desk-tool@2.28.0`

**Other Changes**

- Added a slug uniqueness validator for document level translations (`import { isSlugUnique } from '@sanity/document-internationalization/lib/validators`)
- A maintenance function was created to add base document refs to translated documents
